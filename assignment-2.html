<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>
<body>
    <input type="text" id="todo-input">
    <button onclick="add()">add todos</button>
    <ul id="list">

    </ul>
    <script>
        var prev_todos=localStorage.getItem("todos");
        if (prev_todos==null){
            var todos=[];
        }
        else{
            var todos=JSON.parse(prev_todos);
        }
        window.onload = genList;

        function genList(){
            document.getElementById("list").innerHTML="";
            todos.forEach((todo,index)=>{
                var list_item=document.createElement("li");
                list_item.innerText=todo;
                var del_btn=document.createElement("button");
                del_btn.innerText="‚ùå";
                del_btn.style.border="none";
                del_btn.onclick=function(){
                    deleteTodo(index);
                };
                list_item.appendChild(del_btn);
                document.getElementById("list").appendChild(list_item);
            })
        }
        function deleteTodo(index){
            todos.splice(index,1);
            localStorage.setItem("todos",JSON.stringify(todos));
            genList();
        }
        function add(){
            var new_todo=document.getElementById("todo-input").value;
            if(new_todo==="") return;
            todos.push(new_todo);
            localStorage.setItem("todos", JSON.stringify(todos));
            document.getElementById("todo-input").value="";
            genList();
        }
    </script>
</body>
</html>